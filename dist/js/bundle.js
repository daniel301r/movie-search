!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t),console.log("exported module");console.log("I imported 23 from another module"),console.log(elements);const n={},i="d41cc4ca",a=()=>{searchResList.innerHTML="",moviePage.innerHTML=""};class o{constructor(e){this.query=e}async getMovies(){try{const e=await fetch(`http://www.omdbapi.com/?apikey=${i}&s=${this.query}`),t=await e.json();this.results=t}catch(e){console.log(e)}}}class r{constructor(e){this.id=e}async getMovie(){try{const e=await fetch(`http://www.omdbapi.com/?apikey=${i}&i=${this.id}`),t=await e.json();this.img=t.Poster,this.title=t.Title,this.genre=t.Genre,this.director=t.Director,this.released=t.Released,this.plot=t.Plot,this.actors=t.Actors,this.awards=t.Awards,this.runtime=t.Runtime}catch(e){alert("Problem with creating movie object....")}}}const c=async()=>{const e=window.location.hash.replace("#","");if(e){n.movie=new r(e);try{await n.movie.getMovie(),moviePage.innerHTML="",u(n.movie)}catch(e){alert("Problem with getting movie data...")}}};window.addEventListener("hashchange",c),window.addEventListener("load",c);const l=async()=>{const e=(()=>elements.searchInput.value)();e&&(n.search=new o(e),await n.search.getMovies(),a(),n.search.results.Search.forEach(d))},d=e=>{const t=`\n    <li>\n        <a class="results__link" href="#${e.imdbID}"> \x3c!-- you get an image, title and year --\x3e\n            <img src="${e.Poster}" >   \n            <div class="results__data">\n                <h4 class="results__name">${e.Title}</h4>\n                <p class="results__info">${e.Year}</p>\n            </div>\n        </a>\n    </li>\n    `;searchResList.insertAdjacentHTML("beforeend",t)},u=e=>{const t=`\n    <h1 class="movieTitle">${e.title}</h1>\n    <div class="mainInfo">\n        <img src="${e.img}">\n        <h4 class="categories">Genre: <span class="genre">${e.genre}</span></h4>\n        <h4 class="categories">Director: <span class="director">${e.director}</span></h4>\n        <h4 class="categories">Released: <span class="released">${e.released}</span></h4>\n    </div>\n    <div class="extraInfo">\n        <h4 class="categories">Plot: <span class="plot">${e.plot}</span></h4>\n        <h4 class="categories">Actors: <span class="actors">${e.actors}</span></h4>\n        <h4 class="categories">Awards: <span class="awards">${e.awards}</span></h4>\n        <h4 class="categories">Runtime: <span class="runtime">${e.runtime}</span></h4>\n    </div>\n    <button class="btn_add_movie">Add to watch list</button>\n    `;moviePage.insertAdjacentHTML("afterbegin",t)};searchBtn.addEventListener("click",e=>{e.preventDefault(),a(),l()});const h=e=>{let t=0;return e.length>0&&(t=e[e.length-1].num+1),t};class m{constructor(){this.movies=[]}addMovie(e){const t={name:e,num:h(this.movies)};return this.movies.push(t),t}deleteMovie(e){const t=this.movies.findIndex(t=>t.num===e);this.movies.splice(t,1)}}const v=e=>{const t=`\n        <li data-itemNum=${e.num}>\n            <h4>${e.name}</h4>\n            <button class="movieListDelete">Remove...<i class="far fa-times-circle"></i></button>\n        </li>\n    `;movieToWatch.insertAdjacentHTML("afterbegin",t)};moviePage.addEventListener("click",function(e){e.target.matches(".btn_add_movie")&&(n.list||(n.list=new m),n.list.addMovie(n.movie.title),v(n.list.movies[n.list.movies.length-1]))});movieToWatch.addEventListener("click",e=>{(e=>{const t=document.querySelector(`[data-itemNum="${e}"]`);console.log(t)})(e.target.closest("li"))})}]);